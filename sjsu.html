<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>SJSU Engineering Building layout</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.39.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.39.1/mapbox-gl.css' rel='stylesheet' />
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <style>
      .mapboxgl-popup {
          max-width: 400px;
          font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
      }
    </style>
    <div id='map'></div>
    <script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoicm9oaXRoLXZvb3RsYSIsImEiOiJjajVwcXd1cjUwZTF4MzhvNW14cDEyN2Y2In0.dDoWON89FdHl5CymwE-CFQ'; // replace this with your access token
    var map = new mapboxgl.Map({  
      container: 'map',
      style: 'mapbox://styles/rohith-vootla/cj67yn1jw0xp52soj6rf7gozg', 
      center: [-121.881373, 37.336860], // starting position
      zoom: 15 // starting zoom
    });
    map.addControl(new mapboxgl.NavigationControl());
    map.on('load', function () {
    //Add a layer showing the state polygons.
      map.addLayer({
          'id': '487',
          'type': 'fill',
          'source': {                    
                "type": "geojson",
                "data": {
                          "type": "FeatureCollection",
                          "features": [
                            {
                              "type": "Feature",
                              "properties": {
                                "name": "487_Layout"
                              },
                              "geometry": {
                                "coordinates": [
                                  [ 
                                    [
                                      -121.881896,
                                      37.336538
                                    ],
                                    [
                                      -121.881787,
                                      37.336585
                                    ],
                                    [
                                      -121.881739,
                                      37.336526
                                    ],
                                    [
                                      -121.881851,
                                      37.336476
                                    ],
                                    [
                                      -121.881896,
                                      37.336538
                                    ]
                                  ]
                                ],
                                "type": "Polygon"
                              }
                            }
                          ]
                        }                     
          },
          'paint': {
              'fill-color': 'rgba(0, 0, 0, 0)',
              'fill-outline-color': 'rgba(0, 0, 0, 0)'
              //'opacity' : '0'
          }
      });

     map.on('click', '487', function (e) {
          new mapboxgl.Popup()
              .setLngLat(e.lngLat)
              .setHTML("<strong>View layout</strong><p> Clicke to view<a href=\"http://ec2-54-67-48-199.us-west-1.compute.amazonaws.com:8000/demo1\">487 Layout</a></p>")
              .addTo(map);
      });

      // Change the cursor to a pointer when the mouse is over the places layer.
      map.on('mouseenter', '487', function () {
          map.getCanvas().style.cursor = 'pointer';
      });

      // Change it back to a pointer when it leaves.
      map.on('mouseleave', '487', function () {
          map.getCanvas().style.cursor = '';
      });
    });
    </script>
  </body>
</html>
